{% extends "base.html" %}
{% block content %}
<div class="py-3">
    <h2 class="text-center" style="font-family: 'Comic Neue', cursive; color: #DAA520;">Ingredient Origins Map</h2>
    <p class="text-center" style="font-family: 'Roboto', sans-serif; color: #8B4513;">Explore where your ingredients originate: <strong>{{ user_ingredients | join(', ') }}</strong></p>
    <div class="text-center my-3">
        <p style="font-family: 'Roboto', sans-serif; color: #8B4513;">{{ origins }}</p>
        <p style="font-family: 'Roboto', sans-serif; color: #DAA520;">These origins map your culinary identity to global food cultures—discover your heritage’s roots!</p>
    </div>
    <div id="map" style="height: 400px; width: 100%; margin: 1em auto;"></div>
    <script>
        var map = L.map('map').setView([20, 0], 2);  // Centered globally
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
        }).addTo(map);
        var originCoords = {{ origin_coords | tojson }};
        originCoords.forEach(coord => {
            if (coord[0] !== 0 && coord[1] !== 0) {  // Skip unknown origins
                L.marker([coord[0], coord[1]]).addTo(map)
                    .bindPopup('Ingredient Origin Here')
                    .openPopup();
            }
        });
    </script>
    <div class="text-center my-3">
        <a href="{{ url_for('results') }}" class="btn btn-secondary btn-lg interactive-button" style="background-color: #DAA520; border-color: #DAA520;"> Back to Results </a>
    </div>
</div>
{% endblock %}